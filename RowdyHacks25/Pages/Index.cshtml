@page
@model IndexModel
@{
    ViewData["Title"] = "Galactic Bounty Hub";
}

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">

@section Scripts {
    <script>
        // Auto refresh every 30 seconds
        setTimeout(function() {
            window.location.reload();
        }, 30000);
    </script>
}

<div class="container">
    <div class="space-card text-center mb-5">
        <h1 class="space-title">🌌 Welcome to the Galactic Bounty Hub</h1>
        <p class="lead mb-4" style="color: #ff9500">Tracking the galaxy's most dangerous targets</p>
        <a href="/Bounties" class="space-btn">View All Bounties</a>
    </div>

    <div class="space-card">
        <h2 class="space-title">💰 Top Paying Bounties</h2>
        
        @if (!Model.Bounties.Any())
        {
            <p class="text-center">No active bounties available.</p>
        }
        else
        {
            <div class="row g-4">
                @foreach (var b in Model.Bounties)
                {
                    <div class="col-md-4">
                        <div class="space-card h-100" style="margin: 0; background-color: rgba(25, 25, 60, 0.5);">
                            @{
                                var img = string.IsNullOrWhiteSpace(b.ImageUrl)
                                    ? "https://placehold.co/400x300?text=Wanted"
                                    : b.ImageUrl;
                            }
                            <img src="@img" alt="@b.TargetName" class="img-fluid mb-3" style="width:100%; aspect-ratio: 4/3; object-fit: cover; border-radius: 8px;" />
                            
                            <h3 style="color: #ff9500; font-size: 1.5rem;">@b.TargetName</h3>
                            <div class="mb-2"><strong>Planet:</strong> @b.Planet</div>
                            <div class="mb-2" style="color: #ffd700; font-size: 1.2rem;"><strong>Reward:</strong> ₡@b.Reward</div>
                            <div class="mb-3">
                                <span class="badge bg-warning text-dark">@b.DangerLevel</span>
                            </div>
                            
                            <div class="d-flex gap-2">
                                <a href="/ViewBounty?id=@b.Id" class="space-btn">View Details</a>
                                <a href="/EditBounty?id=@b.Id" class="space-btn" style="background-color: #2d6da3;">Edit</a>
                            </div>
                        </div>
                    </div>
                }
            </div>
        }
</div>
</div>
